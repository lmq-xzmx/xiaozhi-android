{
  "current_status": {
    "step1_audio_capture": {
      "status": "âœ… æ­£å¸¸",
      "details": "AudioRecorderå·¥ä½œæ­£å¸¸ï¼Œ16kHzå•å£°é“",
      "issues": [],
      "gap": "æ— å·®è·"
    },
    "step2_opus_encoding": {
      "status": "âœ… æ­£å¸¸",
      "details": "OpusEncoderæ­£å¸¸ï¼Œå¸§å¤§å°ç¬¦åˆé¢„æœŸ",
      "issues": [],
      "gap": "æ— å·®è·"
    },
    "step3_websocket_send": {
      "status": "âœ… æ­£å¸¸",
      "details": "WebSocketè¿æ¥ç¨³å®šï¼ŒéŸ³é¢‘ä¼ è¾“æˆåŠŸ",
      "issues": [],
      "gap": "æ— å·®è·"
    },
    "step4_server_receive": {
      "status": "âŒ å¼‚å¸¸",
      "details": "æœåŠ¡å™¨è¿è¡Œ:False, ç«¯å£ç›‘å¬:True",
      "issues": [
        "xiaozhi-serverè¿›ç¨‹æœªè¿è¡Œ"
      ],
      "gap": "æœåŠ¡å™¨çŠ¶æ€å¼‚å¸¸"
    },
    "step5_vad_detection": {
      "status": "âŒ å¼‚å¸¸",
      "details": "æ¨¡å‹å­˜åœ¨:False, é…ç½®æ­£ç¡®:True",
      "issues": [
        "SileroVADæ¨¡å‹æ–‡ä»¶ç¼ºå¤±"
      ],
      "gap": "VADæ¨¡å‹æˆ–é…ç½®é—®é¢˜"
    },
    "step6_stt_recognition": {
      "status": "âŒ å¤±æ•ˆ",
      "details": "æ¨¡å‹å­˜åœ¨:False, é…ç½®æ­£ç¡®:True",
      "issues": [
        "FunASRæ¨¡å‹æ–‡ä»¶ç¼ºå¤±",
        "STTæ— è¯†åˆ«ç»“æœè¿”å›"
      ],
      "gap": "STTè¯†åˆ«å®Œå…¨å¤±æ•ˆ"
    },
    "step7_result_return": {
      "status": "âŒ å¤±æ•ˆ",
      "details": "æ— STTå“åº”æ¶ˆæ¯è¿”å›",
      "issues": [
        "æœåŠ¡å™¨ç«¯æ— sttç±»å‹å“åº”"
      ],
      "gap": "ç»“æœè¿”å›é“¾è·¯ä¸­æ–­"
    },
    "step8_ui_display": {
      "status": "ğŸš« é˜»å¡",
      "details": "ç”±äºæ— STTç»“æœï¼ŒUIæ— æ³•æ›´æ–°",
      "issues": [
        "æ— >> [ç”¨æˆ·è¯­éŸ³]æ˜¾ç¤º"
      ],
      "gap": "UIæ›´æ–°è¢«é˜»å¡"
    }
  },
  "target_status": {
    "step1_audio_capture": {
      "status": "æ­£å¸¸",
      "description": "AudioRecorderé‡‡é›†16kHzå•å£°é“éŸ³é¢‘",
      "metrics": "éŸ³é¢‘æ•°æ®è¿ç»­ï¼Œæ— ä¸¢å¸§",
      "timing": "å®æ—¶é‡‡é›†ï¼Œå»¶è¿Ÿ<50ms"
    },
    "step2_opus_encoding": {
      "status": "æ­£å¸¸",
      "description": "OpusEncoderç¼–ç ä¸º60mså¸§",
      "metrics": "é™éŸ³å¸§~20å­—èŠ‚ï¼Œè¯­éŸ³å¸§~200å­—èŠ‚",
      "timing": "ç¼–ç å»¶è¿Ÿ<10ms"
    },
    "step3_websocket_send": {
      "status": "æ­£å¸¸",
      "description": "WebSocketç¨³å®šä¼ è¾“éŸ³é¢‘æ•°æ®",
      "metrics": "ä¼ è¾“æˆåŠŸç‡100%ï¼Œæ— ä¸¢åŒ…",
      "timing": "ç½‘ç»œå»¶è¿Ÿ<100ms"
    },
    "step4_server_receive": {
      "status": "æ­£å¸¸",
      "description": "æœåŠ¡å™¨æ­£ç¡®æ¥æ”¶å¹¶å¤„ç†éŸ³é¢‘åŒ…",
      "metrics": "éŸ³é¢‘åŒ…å®Œæ•´æ¥æ”¶ï¼Œæ ¼å¼è¯†åˆ«æ­£ç¡®",
      "timing": "æ¥æ”¶å»¶è¿Ÿ<20ms"
    },
    "step5_vad_detection": {
      "status": "æ­£å¸¸",
      "description": "SileroVADæ£€æµ‹è¯­éŸ³æ´»åŠ¨",
      "metrics": "è¯­éŸ³æ£€æµ‹å‡†ç¡®ç‡>95%ï¼Œè¯¯æŠ¥ç‡<5%",
      "timing": "VADå¤„ç†å»¶è¿Ÿ<50ms"
    },
    "step6_stt_recognition": {
      "status": "æ­£å¸¸",
      "description": "FunASRè¿›è¡Œè¯­éŸ³è¯†åˆ«",
      "metrics": "è¯†åˆ«å‡†ç¡®ç‡>90%ï¼Œæ”¯æŒä¸­æ–‡",
      "timing": "è¯†åˆ«å»¶è¿Ÿ<2000ms"
    },
    "step7_result_return": {
      "status": "æ­£å¸¸",
      "description": "STTç»“æœé€šè¿‡WebSocketè¿”å›",
      "metrics": "ç»“æœæ ¼å¼æ­£ç¡®ï¼ŒåŒ…å«å®Œæ•´æ–‡æœ¬",
      "timing": "è¿”å›å»¶è¿Ÿ<100ms"
    },
    "step8_ui_display": {
      "status": "æ­£å¸¸",
      "description": "Androidåº”ç”¨æ˜¾ç¤ºè¯†åˆ«ç»“æœ",
      "metrics": "UIæ›´æ–°åŠæ—¶ï¼Œæ–‡æœ¬æ˜¾ç¤ºæ­£ç¡®",
      "timing": "UIæ›´æ–°å»¶è¿Ÿ<50ms"
    }
  },
  "flow_gaps": {
    "step1_audio_capture": {
      "gap_level": "æ— ",
      "current_status": "âœ… æ­£å¸¸",
      "target_status": "æ­£å¸¸",
      "issues": [],
      "gap_description": "æ— å·®è·"
    },
    "step2_opus_encoding": {
      "gap_level": "æ— ",
      "current_status": "âœ… æ­£å¸¸",
      "target_status": "æ­£å¸¸",
      "issues": [],
      "gap_description": "æ— å·®è·"
    },
    "step3_websocket_send": {
      "gap_level": "æ— ",
      "current_status": "âœ… æ­£å¸¸",
      "target_status": "æ­£å¸¸",
      "issues": [],
      "gap_description": "æ— å·®è·"
    },
    "step4_server_receive": {
      "gap_level": "ä¸¥é‡",
      "current_status": "âŒ å¼‚å¸¸",
      "target_status": "æ­£å¸¸",
      "issues": [
        "xiaozhi-serverè¿›ç¨‹æœªè¿è¡Œ"
      ],
      "gap_description": "æœåŠ¡å™¨çŠ¶æ€å¼‚å¸¸"
    },
    "step5_vad_detection": {
      "gap_level": "ä¸¥é‡",
      "current_status": "âŒ å¼‚å¸¸",
      "target_status": "æ­£å¸¸",
      "issues": [
        "SileroVADæ¨¡å‹æ–‡ä»¶ç¼ºå¤±"
      ],
      "gap_description": "VADæ¨¡å‹æˆ–é…ç½®é—®é¢˜"
    },
    "step6_stt_recognition": {
      "gap_level": "ä¸¥é‡",
      "current_status": "âŒ å¤±æ•ˆ",
      "target_status": "æ­£å¸¸",
      "issues": [
        "FunASRæ¨¡å‹æ–‡ä»¶ç¼ºå¤±",
        "STTæ— è¯†åˆ«ç»“æœè¿”å›"
      ],
      "gap_description": "STTè¯†åˆ«å®Œå…¨å¤±æ•ˆ"
    },
    "step7_result_return": {
      "gap_level": "ä¸¥é‡",
      "current_status": "âŒ å¤±æ•ˆ",
      "target_status": "æ­£å¸¸",
      "issues": [
        "æœåŠ¡å™¨ç«¯æ— sttç±»å‹å“åº”"
      ],
      "gap_description": "ç»“æœè¿”å›é“¾è·¯ä¸­æ–­"
    },
    "step8_ui_display": {
      "gap_level": "ä¸¥é‡",
      "current_status": "ğŸš« é˜»å¡",
      "target_status": "æ­£å¸¸",
      "issues": [
        "æ— >> [ç”¨æˆ·è¯­éŸ³]æ˜¾ç¤º"
      ],
      "gap_description": "UIæ›´æ–°è¢«é˜»å¡"
    }
  },
  "timestamp": "2025-05-29 17:09:34",
  "fix_plan": {
    "immediate_fixes": [
      {
        "step": "step4_server_receive",
        "action": "æ£€æŸ¥å¹¶å¯åŠ¨xiaozhi-serveræœåŠ¡",
        "command": "cd ../main/xiaozhi-server && python app.py",
        "priority": "P0"
      },
      {
        "step": "step4_server_receive",
        "action": "éªŒè¯æ¨¡å‹æ–‡ä»¶å®Œæ•´æ€§",
        "command": "ls -la models/snakers4_silero-vad/ models/SenseVoiceSmall/",
        "priority": "P0"
      },
      {
        "step": "step5_vad_detection",
        "action": "æ£€æŸ¥å¹¶å¯åŠ¨xiaozhi-serveræœåŠ¡",
        "command": "cd ../main/xiaozhi-server && python app.py",
        "priority": "P0"
      },
      {
        "step": "step5_vad_detection",
        "action": "éªŒè¯æ¨¡å‹æ–‡ä»¶å®Œæ•´æ€§",
        "command": "ls -la models/snakers4_silero-vad/ models/SenseVoiceSmall/",
        "priority": "P0"
      },
      {
        "step": "step6_stt_recognition",
        "action": "æ£€æŸ¥å¹¶å¯åŠ¨xiaozhi-serveræœåŠ¡",
        "command": "cd ../main/xiaozhi-server && python app.py",
        "priority": "P0"
      },
      {
        "step": "step6_stt_recognition",
        "action": "éªŒè¯æ¨¡å‹æ–‡ä»¶å®Œæ•´æ€§",
        "command": "ls -la models/snakers4_silero-vad/ models/SenseVoiceSmall/",
        "priority": "P0"
      }
    ],
    "verification_steps": [
      "æµ‹è¯•æœåŠ¡å™¨ç«¯STTé¡µé¢åŠŸèƒ½",
      "æ£€æŸ¥æœåŠ¡å™¨å®æ—¶æ—¥å¿—è¾“å‡º",
      "éªŒè¯Androidå®¢æˆ·ç«¯STTå“åº”",
      "ç¡®è®¤å®Œæ•´å¯¹è¯æµç¨‹"
    ],
    "monitoring_setup": [
      "è®¾ç½®æœåŠ¡å™¨éŸ³é¢‘æ¥æ”¶æ—¥å¿—",
      "æ·»åŠ VADæ£€æµ‹çŠ¶æ€æ—¥å¿—",
      "å¢åŠ STTå¤„ç†æ—¶é—´ç›‘æ§",
      "æ·»åŠ é”™è¯¯å¼‚å¸¸æ•è·"
    ]
  },
  "fixes_executed": [
    "éœ€è¦å¯åŠ¨xiaozhi-serveræœåŠ¡",
    "éœ€è¦ä¸‹è½½SileroVADæ¨¡å‹",
    "éœ€è¦ä¸‹è½½FunASRæ¨¡å‹",
    "å·²ç”Ÿæˆä¿®å¤è„šæœ¬"
  ]
}